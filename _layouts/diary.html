---
layout: default
--- 
<section class="diary">

  <div class="mb-5">
    <div class="micro-header mb-2">{{ page.title }}</div>
    <h1 class="mb-0">{{ page.subtitle }}</h1>
  </div>

  {% for post in site.posts %}

    {% capture year_of_current_post %}
      {{ post.date | date: "%Y" }}
    {% endcapture %}

    {% capture year_of_previous_post_in_set %}
      {{ site.posts[forloop.index].date | date: "%Y" }}
    {% endcapture %}

    {% if forloop.first %}
      <div class="border-top">
      <div class="row">
        <div class="col-2">
          <h4 class="pt-3">{{ year_of_current_post }}</h4>
        </div>
        <div class="col-10">
          <ul>
    {% endif %}

    <li class="py-3">
      <div class="row">
        <div class="col-9">
          <a href="{{ post.url }}">{{ post.title }}</a>
        </div>
        <div class="col-3 text-end">
          <time datetime="{{ post.date | date: "%m/%d" }}">{{ post.date | date: "%m/%d" }}</time>
        </div>
      </div>
    </li>

    {% if forloop.last %}
            </ul>
          </div>
        </div>
      </div>  
      {% else %}

      {% if year_of_current_post != year_of_previous_post_in_set %}
        </ul>
      </div>
      </div>
    </div>  
    <div class="border-top">
    <div class="row">
      <div class="col-2">
        <h4 class="pt-3">{{ year_of_previous_post_in_set }}</h4>
      </div>
      <div class="col-10"> 
        <ul>
      {% endif %} 
    {% endif %}

{% endfor %}